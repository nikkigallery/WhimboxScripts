# 奇想盒·自动跑图·脚本仓库
## 视频介绍
[大致流程](https://www.bilibili.com/video/BV1zcWGzCESR)
## 如何录制跑图路线
1. 打开游戏，传送到流转之柱附近（路线的起点必须是流转之柱附近）
2. 运行`source\task\navigation_task\record_path_task.py`，等待出现“自动记录路线中……”的日志后，就可以开始跑图了，程序会自动记录你的路线
3. 按`;（分号）`,标记当前地点，用于之后手动编辑
4. 按`'（引号）`，结束录制
5. 路线文件会存放在`assets\paths`目录下，文件名为`我的路线_<时间戳>.json`

## 如何预览和编辑跑图路线
1. 前往[路线编辑网站](https://nikkigallery.vip/autotools/pathcheck)
2. 上传你的跑图路线json文件
3. 左侧是路线和点位的预览；右侧是具体信息，可以手动编辑、添加、删除点位
![网站截图](/docs/path_tools.png)
4. 自动跑图原理：暖暖会朝着必经点按照指定的移动方式（步行、跳跃等等）移动，到达必经点后会做指定的动作（采集、等待、捕虫、战斗等等），完成后继续向下一个必经点移动。
### 点位参数的解释
* 点位类型：
    * 必经点：必须抵达的点位，比如：采集点位、路线转折点、弹跳点位等等。
    * 途径点：录制路线时顺便录下的沿途点位，仅用作查看路线时的参考，不参与自动跑图。你如果觉得路线文件里的必经点不合理，也可以将某些途径点修改为必经点。
* 移动方式：
    * 目前只支持步行和跳跃两种
    * 步行不支持冲刺
    * 跳跃只支持初始漂浮套
* 动作类型：
    * 目前仅支持传送、采集、捕虫、清洁、钓鱼、等待
    * 传送：一般都是路线的起点，会自动传送到距离该点最近的流转之柱附近，再自动走到该点位。所以要求这种点位不能离流转之柱太远，且中间不能有障碍物。
    * 采集：到达点位后，不停采集，直到没有东西可以采集为止。
    * 捕虫：到达点位后，自动捕捉附近的n个xx虫子（n填在参数中，xx需要在路径信息的素材名中填写）。
    * 清洁：到达点位后，自动清洁附近的n个xx动物（n填在参数中，xx需要在路径信息的素材名中填写）。
    * 钓鱼：到达点位后，自动开始钓鱼。
    * 等待：到达点位就停止移动、停止跳跃，等待n秒（n填在参数中）。一般用于复杂跑图路线，比如要跳到弹跳网或弹跳叶上，下落再弹起，就可以利用“等待0.5秒”来实现。
* 动作参数：
    * 需要配合动作类型